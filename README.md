django-partners
===============

Django pluggable app for partnership programs. Enables to share with a partner a percent of incomes that are generated by any user in the system.

Idea behind django-partners
---------------------------

* Every user can be a partner.
* A partner can have a set of recommended users (in system it is called "partner accounts").
* For each account partner can get a percent rate of income that this user make to system (rates are defined separately for every account, so single user can have defined different rates for different accounts).
* Partner will receive income for an account only if an account is still valid, i.e. it can be expired with a specific date (expiration of account partnership), or it can expire due to limited number of days, or both.


Installation
------------

Add to ``INSTALLED_APPS``. Add ``partners.urls`` to global ``urls.py``. Make ``syncdb`` or use South.

Integration
-----------

Whenever somewhere in your system a user make a payment send a signal::

    partner_income_signal = Signal(providing_args=['user', 'amount', 'currency', 'description', 'period'])

If this payment is related to extending an account for a given period, set value period to number of days. Amount should be a Decimal.